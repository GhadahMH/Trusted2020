<!DOCTYPE html>
<html>
    <head> 
      <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-auth.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-database.js"></script>
      
        <meta charset="utf-8">
        <title> Dashboard </title>
        <style type="text/css"> 
          *{
            margin: 0;
            padding: 0;
          }
         
          .blueBoarder{
            width: 94.7%;
            min-height:70vh;
            border: 10px solid rgb(48, 0, 149);
            border-radius: 15px ;
            padding: 2%;
            display: flex;
          }
          .userinfo{
            border: 3px solid #000;
            padding: 1%;
            width: 30%;
            height: 15vh;
            border-radius: 15px ;
            
            display:flex;
            margin: auto ;
          }
          .userinfotext{
            width: 60%;
            text-align: center;
            margin: auto;
          }
          .userImg{
            width: 35%;
            height:15vh;
            
            margin-right: 5%;
          }
          .TRDiv{
            margin-top: 5%;
            display: flex;
            width: 100%;
            text-align: center;
          }
          .thiqa{
            margin: 0 auto;
            margin-right: 3%;
            font-size: 20px;
          }
          .reviwe{
            margin: 0 auto;
            margin-left: 3%;
            font-size: 20px;
          }
          .notificationBox{
            width:40% ;
            margin: auto;
          }
          .NBorder{
            border: 3px solid #000;
            border-radius: 15px ;
            padding: 2%;
            text-align: center;
          }
          .singelNotification{
            border: 3px solid #000;
            border-radius: 15px ;
            padding: 2%;
            font-size: 20px;
            margin: 5% auto;
          }
          button{
            box-shadow: 0px;
            font-size: 25px;
            background-color: rgb(217,199,241);
            border-radius: 10px;
            border: none;
            margin:2% auto ;
            padding:7px;
            cursor: pointer;

          }
          button:focus{
            outline: none;
           
          }
          
          .header{
            display: flex;
            width: 100%;
          }
          .nav{
            margin: auto 0;
            margin-left: 50%;
            display: flex;
          }
          .header a{
            text-decoration: none;
            display: block;
            padding: 10px;
            margin: 5px;
            color:#000;
          }
          
  </style>
 
    
    </head>
<body>
      
  <div class="header">
    <img src="logo.png" style="width: 100px;height:100px;margin:20px"/>
    <div class="nav">
      <a href="HomePage2.html">Home</a>
      <a href="HolidayHomes.html">Holiday Homes</a>
      <a href="POregisteration.html">Owner Register</a>
      <a href="Memberregisteration.html">Member Register</a>
      <a id="signin" href="Login.html">Sign In</a>
      <a id="signout" href="#" onclick="logout()">Sign Out</a>
    </div>
  </div>

  <div class="blueBoarder">
    <div class="userinfo">
      <img id="imgProfile" class="userImg" />
      <div class="userinfotext">
        <h2 id="lblFullName">User Name</h2>
        <div class="TRDiv">
          <p class="thiqa">0 Thiqa</p>
          <p id="ReviewsCount" class="reviwe">0 Review</p>
        </div>
      </div>
    </div>
    <div class="notificationBox">
      <h1>Notification</h1>
      <div class="NBorder">
        <div id="NList" class="NList">
          
        </div>
        <button >More</button>
      </div>
      
    </div>
  </div>


<!--    
      <div class="frame">
        <svg width="2550" height="1350" class="gwd-svg-j0fp">
          <rect x="0" y="200" rx="10" ry="10" width="2550" height="1175" style="fill: rgb(48, 0, 149); z-index: 10;"></rect>
          <rect x="21" y="240" rx="10" ry="10" width="2500" height="1100" style="fill: rgb(255,255,255); stroke-linecap: butt; z-index: 20;"></rect>
    
        <rect x="150" y="540" rx="10" ry="10" width="950" height="290" style="fill: rgb(255,255,255); z-index: 30; stroke-width: 3px; stroke: rgb(0,0,0);"> </rect> 
       
        <rect x="1350" y="540" rx="10" ry="10" width="950" height="500" style="fill: rgb(255,255,255); z-index: 30; stroke-width: 3px; stroke: rgb(0,0,0);"> </rect>  
        <rect x="1387" y="560" rx="10" ry="10" width="870" height="150" style="fill: rgb(255,255,255); z-index: 30; stroke-width: 3px; stroke: rgb(0,0,0);"> </rect> 
        <rect x="1387" y="720" rx="10" ry="10" width="870" height="150" style="fill: rgb(255,255,255); z-index: 30; stroke-width: 3px; stroke: rgb(0,0,0);"> </rect>     
        </svg>
      </div>
      <img  src="assets/logo.png" class="webLogo">
    <img id="imgProfile" src="" alt="profile picture" class="profilePic">
    <button id="button_1" class="EditProfile"> <span>Edit Profile</span></button>
    <button id="button_1" class="More"> <span>More</span></button>
    <label id="lblFullName" class="user"> <b>Full Name</b></label>
     <label class="Thiqah"> X Thiqah</label>
    <label class="Reviews" id="ReviewsCount"> Y Reviews</label>
    <label class="Notifications"> <b>Notifications</b></label>

    <div class="NotificationsBox" id="notificationContainer"> -->
      <!-- <div class="NotificationsBoxItem">
           We love you
      </div>
      <div class="NotificationsBoxItem">
         We love you
    </div> -->
    </div>
    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyBVKHsqnVyaPbvPmgzPqEK_9p2Hm4ZucYc",
        authDomain: "trusted2020-8c803.firebaseapp.com",
        databaseURL: "https://trusted2020-8c803.firebaseio.com",
        projectId: "trusted2020-8c803",
        storageBucket: "trusted2020-8c803.appspot.com",
        messagingSenderId: "662663714362",
        appId: "1:662663714362:web:1842f051b9bddf5f48c703",
        measurementId: "G-QDZ39S220R"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      var uu = sessionStorage.getItem('userId22');
          
      if(uu!=null)
      {
         document.getElementById('signin').style.display='none';
         document.getElementById('signout').style.display='block';
      }else
      {
        
       document.getElementById('signin').style.display='block';
       document.getElementById('signout').style.display='none';
       window.location.href = "Login.html"
      }
      

      firebase.database().ref("MEMBER").child(uu).once('value').then(function (snapshot){
        var userName= snapshot.val().FullName;
        var imgUrl=snapshot.val().ProfileImage;
        document.getElementById("lblFullName").innerText=userName;
        document.getElementById('imgProfile').src=imgUrl;
       
      });
      var i =0;
      
      firebase.database().ref("Notification").orderByChild('UID').equalTo(uu).limitToLast(2).once('value').then(function (snapshot){
       if(snapshot.val()!=null)
       {
         snapshot.forEach(function (note){
          document.getElementById('NList').innerHTML+= '<div class="singelNotification"><P>'+note.val().Txt+'</P></div>';
         });
         
       
        //document.getElementById('ReviewsCount').innerText=i+" Reviews";
       }else
       {
        document.getElementById('NList').innerHTML+= '<h3 style="padding:10px">No notification found</h3>'
       }
       
      });
      function logout()
      {
       sessionStorage.removeItem('userId22');
       window.location.href = "HomePage2.html"
      }

    </script>
</body>
  
</html>